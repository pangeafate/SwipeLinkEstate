# TaskAutomation Component

## Purpose
Task management interface for viewing, filtering, and updating CRM tasks generated by the system. Provides agents with a centralized view of pending, completed, and overdue tasks with priority-based organization.

## Architecture Context
TaskAutomation is a task management dashboard that displays and manages tasks created by the CRM system, focusing on task display, filtering, and status updates.

```
CRM Dashboard → Task Management → TaskAutomation → Task Display
                                                → Task Filtering  
                                                → Status Updates
                                                → Priority Management
```

## Core Functionality

### Task Display & Management
- View pending, completed, and overdue tasks
- Filter tasks by priority, type, and status
- Update task status (complete, dismiss)
- Sort tasks by priority (high, medium, low)
- Display task metadata (due dates, creation dates, types)

### Task Organization
- Tabbed interface for task status (Pending, Overdue, Completed)
- Priority-based sorting with visual indicators
- Task type categorization with icons
- Overdue task highlighting and tracking

### Task Information Display
- Task title, description, and notes
- Due date tracking with relative time display
- Task type with emoji icons (call 📞, email 📧, showing 🏠, etc.)
- Priority badges (High, Medium, Low)
- Automated task indicators

## Component Dependencies

### Internal Components
- **TaskList**: Renders list of tasks
- **TaskCard**: Individual task display component
- **TaskFilters**: Priority and type filtering interface
- **TaskListSkeleton**: Loading state component

### Services Used
- **TaskService**: Task retrieval and status updates
  - `getTasks()`: Fetch tasks with filters
  - `updateTaskStatus()`: Update task completion status

### Data Types
- **Task**: Task object with title, description, priority, type, status
- **TaskFilters**: Filter options for priority, type, status
- **TaskStatus**: 'pending' | 'completed' | 'dismissed'
- **TaskPriority**: 'high' | 'medium' | 'low'

## Key Features

### Task Status Management
- Mark tasks as completed with green checkmark button
- Dismiss tasks that are no longer relevant
- Visual status indicators for completed and dismissed tasks
- Status change with optimistic UI updates

### Priority System
- High priority (red indicator)
- Medium priority (yellow indicator)  
- Low priority (gray indicator)
- Visual priority sorting and display

### Task Type System
- Call tasks (📞)
- Email tasks (📧)
- Showing tasks (🏠)
- Follow-up tasks (🔄)
- Nurture tasks (🌱)
- Preparation tasks (📋)
- General tasks (📝)

### Due Date Management
- Overdue task detection and highlighting
- Relative date display ("Due today", "Due in 3 days", "Overdue by 2 days")
- Overdue tasks shown with red border and indicators

## Usage Patterns

TaskAutomation is used for:
1. **Daily Task Management**: View and complete daily CRM tasks
2. **Priority Management**: Focus on high-priority items first
3. **Status Tracking**: Monitor task completion and overdue items
4. **Task Organization**: Filter and organize tasks by type and status

## Task Display Features

### Task Card Layout
- Left border color coding by priority and overdue status
- Task type icon and title
- Task description and notes (if present)
- Due date with relative time formatting
- Priority badge and automated task indicator
- Action buttons for completion and dismissal

### Filtering Options
- **Priority Filter**: All, High, Medium, Low priority tasks
- **Type Filter**: All, Calls, Emails, Showings, Follow-ups, Nurture tasks
- **Status Tabs**: Pending, Overdue, Completed task views
- **Real-time Counters**: Task count badges for each status

## Integration Points

### Data Flow
```
TaskAutomation → TaskService.getTasks() → Display Tasks
             → User Action → TaskService.updateTaskStatus() → UI Update
             → Filter Change → Reload Tasks → Updated Display
```

### Task Lifecycle
1. **Task Display**: Show tasks from TaskService
2. **User Interaction**: Filter, sort, or update task status
3. **Status Update**: Send updates to TaskService
4. **UI Refresh**: Update display with new task state

## Component Structure

```tsx
TaskAutomation
├── Task Filters (Priority, Type)
├── Status Tabs (Pending, Overdue, Completed)
├── Task List
│   └── Task Cards
│       ├── Task Header (Icon, Title, Automated Badge)
│       ├── Task Description
│       ├── Task Metadata (Type, Due Date, Created Date)
│       ├── Task Notes (if present)
│       └── Action Buttons (Complete, Dismiss)
└── Loading Skeleton
```

## Current Limitations

- **Read-Only Task Management**: Can only update status, cannot create or edit tasks
- **No Automation Rules**: Does not provide automation rule creation or management
- **Basic Filtering**: Limited to priority and type filters only
- **No Task Creation**: Tasks must be created by other system components